{"version":3,"file":"static/js/7.a6a4bc95.chunk.js","mappings":"kKAqBA,IAhBmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACbC,GAASC,EAAAA,EAAAA,MAEhB,OACE,wBACGF,EAAOG,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjB,OACE,SAAC,KAAD,CAAMC,MAAO,CAACC,KAAKN,GAAoBO,GAAE,kBAAaJ,GAAtD,UACE,wBAAKC,KAD4BD,EAItC,KAGN,C,sDCnBM,IAAMK,EAAe,SAAAT,GAC1B,OAAOA,EAAOG,KAAI,kBAAqB,CACrCC,GADgB,EAAIA,GAEpBC,MAFgB,EAAQA,MAAR,GAInB,C,sGCEKK,EAAY,SAmDlB,UAlDe,WAAO,IAAD,EAEnB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAErCC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQV,IACjD,GAA4BW,EAAAA,EAAAA,WAAS,kBACnCL,GAAYF,GAAZ,OAAwBE,GAAY,EADD,IAArC,eAAOhB,EAAP,KAAesB,EAAf,MAIAC,EAAAA,EAAAA,YAAU,WACRJ,aAAaK,QAAQd,EAAWO,KAAKQ,UAAUzB,GAChD,GAAE,CAACA,EAAQc,IAuBZ,OACE,iCACE,kBAAMY,SAfW,SAAAC,GACnBA,EAAEC,kBAEFC,EAAAA,EAAAA,GAAY,sBAAD,OAAuBf,IAC/BgB,MAAK,YAA4B,IAAjBC,EAAgB,EAAxBC,KAAQD,QAEfT,GAAU,QAAIb,EAAAA,EAAAA,GAAasB,IAC5B,IACAE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EACb,GACJ,EAIG,WACE,kBAAOG,MAAOvB,EAAOwB,SAxBN,SAAAX,GACnB,IAAMY,EAAcZ,EAAEa,OAAOH,MAC7B,GAAoB,KAAhBE,EACF,OAAO1B,EAAgB,CAAC,GAE1BA,EAAgB,CAAEC,MAAOyB,GAC1B,KAmBK,0CAEDvC,EAAOyC,OAAS,GACf,SAAC,IAAD,CAAYzC,OAAQA,KAEpB,0EAIP,C,mECtDD0C,EAAAA,EAAAA,SAAAA,QAAyB,+BAElB,IAAMb,EAAc,SAACc,GAC1B,OAAOD,EAAAA,EAAAA,GAAMC,EAAM,CACjBC,OAAQ,CACNC,QANU,qCAUf,C","sources":["components/MoviesList/MoviesList.jsx","components/helper/MoviesMapper.js","components/pages/Movies.jsx","servises/getMovies.js"],"sourcesContent":["\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MoviesList = ({ movies }) => {\n   const location=useLocation()\n  // console.log(\"ðŸš€ ~ Home ~ location:\", location)\n  return (\n    <ul>\n      {movies.map(({ id, title }) => {\n        return (\n          <Link state={{from:location}} key={id} to={`/movies/${id}`}>\n            <li>{title}</li>\n          </Link>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n   movies: PropTypes.arrayOf({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string,\n  }).isRequired,\n};","export const moviesMapper = movies => {\n  return movies.map(({  id, title }) => ({\n    id,\n    title,\n  }));\n};\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovies } from 'servises/getMovies';\nimport { moviesMapper } from '../helper/MoviesMapper';\n\nconst LS_MOVIES = 'movies';\nconst Movies = () => {\n  // const [movies, setMovies] = useState(() => ([]));\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query') ?? '';\n \n  const moviesLS = JSON.parse(localStorage.getItem(LS_MOVIES));\n  const [movies, setMovies] = useState(() =>\n    moviesLS && query ? [...moviesLS] : []\n  );\n\n  useEffect(() => {\n    localStorage.setItem(LS_MOVIES, JSON.stringify(movies));\n  }, [movies, query]);\n\n  const handelChenge = e => {\n    const searchValue = e.target.value;\n    if (searchValue === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: searchValue });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    fetchMovies(`search/movie?query=${query}`)\n      .then(({ data: { results } }) => {\n        // console.log('results', results);\n        setMovies([...moviesMapper(results)]);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input value={query} onChange={handelChenge} />\n        <button>Search</button>\n      </form>\n      {movies.length > 0 ? (\n        <MoviesList movies={movies} />\n      ) : (\n        <div>We don't have any movie matches this query</div>\n      )}\n    </>\n  );\n};\nexport default Movies;\n","import axios from \"axios\"\n\nconst API_KEY = '854bf457e823d26894ff8657add868b2'\naxios.defaults.baseURL = 'https://api.themoviedb.org/3'\n\nexport const fetchMovies = (path) => {\n  return axios(path, {\n    params: {\n      api_key: API_KEY,\n      \n    },\n  });\n};"],"names":["movies","location","useLocation","map","id","title","state","from","to","moviesMapper","LS_MOVIES","useSearchParams","searchParams","setSearchParams","query","get","moviesLS","JSON","parse","localStorage","getItem","useState","setMovies","useEffect","setItem","stringify","onSubmit","e","preventDefault","fetchMovies","then","results","data","catch","error","console","log","value","onChange","searchValue","target","length","axios","path","params","api_key"],"sourceRoot":""}