{"version":3,"file":"static/js/7.ae6d714e.chunk.js","mappings":"kKAoBA,IAhBmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACbC,GAASC,EAAAA,EAAAA,MAEhB,OACE,wBACGF,EAAOG,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjB,OACE,SAAC,KAAD,CAAMC,MAAO,CAACC,KAAKN,GAAoBO,GAAE,kBAAaJ,GAAtD,UACE,wBAAKC,KAD4BD,EAItC,KAGN,C,6FCZKK,EAAY,SA+ClB,UA9Ce,WAAO,IAAD,EAEnB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAErCC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQV,IACjD,GAA4BW,EAAAA,EAAAA,WAAS,kBACnCL,GAAYF,GAAZ,OAAwBE,GAAY,EADD,IAArC,eAAOf,EAAP,KAAeqB,EAAf,MAIAC,EAAAA,EAAAA,YAAU,WACRJ,aAAaK,QAAQd,EAAWO,KAAKQ,UAAUxB,GAChD,GAAE,CAACA,EAAQa,IAuBZ,OACE,iCACE,kBAAMY,SAfW,SAAAC,GACnBA,EAAEC,kBAEFC,EAAAA,EAAAA,GAAY,sBAAD,OAAuBf,IAC/BgB,MAAK,YAA4B,IAAjBC,EAAgB,EAAxBC,KAAQD,QACfE,QAAQC,IAAI,UAAWH,GACvBT,GAAU,OAAIS,GACf,IACAI,OAAM,SAAAC,GACLH,QAAQC,IAAIE,EACb,GACJ,EAIG,WACE,kBAAOC,MAAOvB,EAAOwB,SAxBN,SAAAX,GACnB,IAAMY,EAAcZ,EAAEa,OAAOH,MAC7B,GAAoB,KAAhBE,EACF,OAAO1B,EAAgB,CAAC,GAE1BA,EAAgB,CAAEC,MAAOyB,GAC1B,KAmBK,0CAEDtC,EAAOwC,OAAS,IAAK,SAAC,IAAD,CAAYxC,OAAQA,MAG/C,C","sources":["components/MoviesList/MoviesList.jsx","components/pages/Movies.jsx"],"sourcesContent":["\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\n\nconst MoviesList = ({ movies }) => {\n   const location=useLocation()\n  // console.log(\"ðŸš€ ~ Home ~ location:\", location)\n  return (\n    <ul>\n      {movies.map(({ id, title }) => {\n        return (\n          <Link state={{from:location}} key={id} to={`/movies/${id}`}>\n            <li>{title}</li>\n          </Link>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovies } from 'servises/getMovies';\n\nconst LS_MOVIES = 'movies';\nconst Movies = () => {\n  // const [movies, setMovies] = useState(() => ([]));\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query') ?? '';\n \n  const moviesLS = JSON.parse(localStorage.getItem(LS_MOVIES));\n  const [movies, setMovies] = useState(() =>\n    moviesLS && query ? [...moviesLS] : []\n  );\n\n  useEffect(() => {\n    localStorage.setItem(LS_MOVIES, JSON.stringify(movies));\n  }, [movies, query]);\n\n  const handelChenge = e => {\n    const searchValue = e.target.value;\n    if (searchValue === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: searchValue });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    fetchMovies(`search/movie?query=${query}`)\n      .then(({ data: { results } }) => {\n        console.log('results', results);\n        setMovies([...results]);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input value={query} onChange={handelChenge} />\n        <button>Search</button>\n      </form>\n      {movies.length > 0 && <MoviesList movies={movies} />}\n    </>\n  );\n};\nexport default Movies;\n"],"names":["movies","location","useLocation","map","id","title","state","from","to","LS_MOVIES","useSearchParams","searchParams","setSearchParams","query","get","moviesLS","JSON","parse","localStorage","getItem","useState","setMovies","useEffect","setItem","stringify","onSubmit","e","preventDefault","fetchMovies","then","results","data","console","log","catch","error","value","onChange","searchValue","target","length"],"sourceRoot":""}